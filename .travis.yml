language: java
jdk:
- oraclejdk8
env:
  global:
  #SONAR_TOKEN
  - secure: PZH8NGV2DiqUu3p45z6SQ+5/oPuT6YZUaE1Ky+Fu8GStbURK/ay/8Hf8gdOw0CHGYGrCruV4GoX56k8IEeVG920KTh7kDh6B3riyCrN1WVhXn6L2fiNq4+eGZtalsEJAv6/D5lBZoT/iW7cEEzpkfcsw8C8hoV3QvvgXP4HSYWrOqcTTT602E9mzU5NFN4AhgT7s9Y7Idgsb1OudByD2jRRRae1m/TWeu0dt4oEowF7K1GBeOq2KZu59rUGs818LEPaoZnbiTfwWdbjPK/ghb4TBbuzmW/ApXcZ69nfG3Rnk9sXs/U5+n1S/Xbf6Su5E1GLnrIHJnuFgFZkwugJ4twsRHbqBzW8CzNPLE63ZWR6IEhJWbYNRhP++fVF6ysysqUTlxla0Rb4/A5jGKb97p+0lAR29bOxnSpcTLQ7urDxIBw1M57P6tHHq871xcP3MMgJAllb1HmxkWIsYhWEBRojhTYnwcteM36MfTNGzUrIpv5ev2wxIpZ07JQJ8JoL/N8e58kVBV81fi1K8kKOS33OlPb4b3BNAJ4XvMDaoPNwwQWtcpJx1a5iqbvvimTS9N71r4lWYSnrC05EK8cffA5TkcqQ0ab1j3Y8p3XrgoKUpcPJLOzrMRaL9A7O+Ni9b3QAGfPyFGsgrK/1dErTiW81TXg6WCj1K+YidyY8Yj7A=
  #OSSRH_USER
  - secure: xoIKFpX4kHo89kaEglwDZranSiwmPjWQU7Zj8yUviBaKaesE5k8rT1nVs/+mUMQBAEywq34FTdszGFT9b7pXgC7H2+AU0fQFzOSBR/NIEAyRmqU9P8Con9VP/CBEAUsM3TFfs6oXbcynFhgvdiOq5no8na4T2yVlqE3WfoVMSBowg4NNByAGpHwuG6hj8s55ifmF5XKEg192zba9VimOcXGba5eBUArqAXFo25TfG1mCfySroxCjz+zblUFtf1NMUxnK1BcxonX6r42u6L3LwrVjlVTRhnOkn5Jm9vhWB94l1ztQt0F/M2OS+fZpjmlIfFpkKW6bGu6ixdrr4XoTs2f9gEXWMFp6skyJaEkSSspWW+yVbpYLzt+qNVZ1Fl3/EiXb5ZtoF7cztUB491EyKju/NAPv8D4nfblIOcaFnXD/Fbhk4J96Y8xwTVMRN/pm7KbEUnF+PqwLMUsNtdY+q3DbzqrIPE9VggvrJzygtc25A+iYgc4msBcVXNFDfQFyzcVdC47ciAi7Q0TmpUWY24WKrURH80D1sIWhNqfeVfPtojYK2iezhaFJNK/qdHcd7Dc3VYM8AYXMVXMOvQowvwZR//o19K8488URKdODX9IgZOAE6d4EdgDtwkHOVVhOy5AUmS7ZJUHT8jTr6qSOwbM8jaCsmUju41CxTCW9/aM=
  #OSSRH_PASS
  - secure: AniTDjZiOb53nlfiUImjskSuQSw33xMVIBiIsOfuSJ0Hz9oOGB5biLwP/Wta/yJIfJVufSeYnzRTD98/VEUOLai5feimuFsw8AJCqgFrfyOXwdVVYNYRchARz0fnhA7dM/r23Lw+4rEJu0MxICFxpufQo3xcszzFvBF6np/jbyx8YUnVr55Ef5IS67qXRjaAOq/qrr0AKukOa8OgJ2WUKUP6HQFeMbYFF+TMiFgftrH4rQUPAD79M97bv3JSt1wB6UBaqta3WZOXloDngq2gkNt6tj8ngAWXz8lCfjYnpWQqYL2t/g27Ruo0507lxw1a+gBvwUIi+CyoCw5nfnOsMYESzfgWrQhIR/5vx/JMKflOWUX1Dktv5TBr2eqZY3kO4vlaqPidyeVqj1TU/7r7+kYeHrcC3+W9ubVaOvxbiSdJBHmP185WPCe/NejF/077wkmktScOKqyTsWZ0/BNcftvh33Yoerdd1teMS9D/TbDKZ3VGRvGJAXxOphCp+HAZ5fPxJfJRIEawotUmnyzlbg10IE0OaY6LtV77PQvVZBJX3BtikpzjMlw14IvddGUTWHXUzbj2a8g2Nab/zRtYeT+ayqOylvaMM0Z4uxly636ewGNTsC5netzgrUw0Mpn9eVYGUwGaxhstSer6Tcqe3fCA7HDFej+EptIDaYQnyXw=
script:
- mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar -Dsonar.login=$SONAR_TOKEN
  -Dsonar.host.url=https://sonarqube.com
after_success:
  - echo "<settings><servers><server><id>ossrh</id><username>\${env.OSSRH_USER}</username><password>\${env.OSSRH_PASS}</password></server></servers></settings>" > ~/settings.xml
  - mvn deploy --settings ~/settings.xml
